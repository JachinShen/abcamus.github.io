---
layout: post
title:  "bulk传输验证"
author: Kai Qiu
date:   2017-04-15 22:52:37 +0800
categories: 嵌入式开发
tags: usb3
topics: usb2.0开发指南 
excerpt: 添加usb类协议支持
---

* menu
{:toc}

> 伟大的成绩和辛勤劳动是成正比例的，有一分劳动就有一分收获，日积月累，从少到多，奇迹就可以创造出来。 —— 鲁迅

鲁迅先生的这句话真是鼓舞码农的心啊，一分劳动一分收获。昨天困扰了一天的问题，今天起床的时候突然想到，然后一试，竟然通了。

## 一、进度审查

1. 解决了无法获取描述符data的问题。
2. 添加mass storage设备驱动，编译通过，[代码仓库在这里](https://github.com/abcamus/dwc3-portable)
3. 正确storage设备信息，但是读了16个block到指定ddr地址中，去检查时却没有发现数据，全是UUU。

> 从验证的角度讲，只要通过读写测试就可以，没有必要包装一层类协议。但是为了以后方便应用到实际场景中，还是要尽量保证协议的完整性。

## 二、接下来工作

1. 继续测试mass storage协议
2. gadget支持
3. gic测试

## 三、疑点

pipe3上控制信号的变化规律。

