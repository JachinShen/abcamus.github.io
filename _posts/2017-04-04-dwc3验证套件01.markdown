---
layout: post
title:  "dwc3 day1--motivation"
author: Kai Qiu
date:   2017-04-04 09:53:37 +0800
categories: 嵌入式开发
tags: usb3.0
topics: dwc3验证套件
excerpt: 为了要验证usb3.0控制器的逻辑功能，考虑搭建一个通用的验证环境。
---

* menu
{:toc}

> 思想像胡须，不成熟就不可能长出来。 —— 伏尔泰

胡须能作为身体成熟的标志，那么什么又能体现思想成熟呢？

## 一、写在前面

当前SoC的设计很多工作都在于ip的集成，所以为了保证ip的可靠性，需要对ip进行验证。通常ip供应商会提供软硬件验证环境，但是这个情况也是不一定的。那么在没有软件验证环境的时候怎么办？一个比较可行的方法是：参考Linux内核，如果有对应驱动的话，可以拿来做测试。对的，这个主题就是关于根据驱动来搭建自己的验证环境。

## 二、designWare usb3.0

这是一个成熟的商业ip，为什么选择这个呢？因为接口符合xhci标准，内核支持比较完善，还有uboot从2016版本开始也支持dwc3，所以我就以uboot中的驱动为参考搭建关于designWare usb3.0控制器的验证环境。代码都开源出来（本身就是从uboot来的，所以开源也无可厚非），希望能帮助到一些同学。有的usb3.0 ip也许会不太兼容，这个要具体问题具体分析了。

## 三、代码仓库

相关的代码我都放在[github仓库中](https://github.com/abcamus/dwc3-portable)，希望有兴趣的童鞋也能一起参与进来。

## 四、后续安排

后面随着不断的深入，会写一些关于一些具体问题的文章，移植的详细过程就不打算写了，后面有时间写一篇框架的思路以及如何porting到自己平台上。现在把大部分和平台配置相关的东西都放到了misc.h文件中。
